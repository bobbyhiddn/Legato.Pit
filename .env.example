# Legato.Pit Configuration
# Copy to .env and fill in values

# ===== Deployment Mode =====
# single-tenant: DIY self-hosted, uses SYSTEM_PAT and allowlist (default)
# multi-tenant: SaaS mode with GitHub App, per-user isolation
LEGATO_MODE=single-tenant

# Flask secret key (auto-generated by flask_keygen.py)
FLASK_SECRET_KEY=

# Environment (development/production)
FLASK_ENV=production

# GitHub OAuth App credentials
# Create at: https://github.com/settings/developers
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# Comma-separated list of allowed GitHub usernames
GITHUB_ALLOWED_USERS=bobbyhiddn

# GitHub PAT for API access (needs repo scope)
# Used for dashboard data and dispatching transcripts
SYSTEM_PAT=

# LEGATO configuration
LEGATO_ORG=bobbyhiddn
CONDUCT_REPO=Legato.Conduct

# ===== GitHub App (Multi-Tenant Auth) =====
# Create at: https://github.com/settings/apps
GITHUB_APP_ID=
GITHUB_APP_CLIENT_ID=
GITHUB_APP_CLIENT_SECRET=
GITHUB_APP_PRIVATE_KEY_PATH=./your-app.private-key.pem
# The URL slug of your GitHub App (from the app URL)
GITHUB_APP_SLUG=legato-studio

# Master encryption key for per-user data protection
# Generate with: python -c "from legato_pit.crypto import generate_master_key; print(generate_master_key())"
LEGATO_MASTER_KEY=

# ===== RAG/Chat Configuration =====

# OpenAI API key (for embeddings and optional chat)
OPENAI_API_KEY=

# Anthropic API key (for Claude chat)
ANTHROPIC_API_KEY=

# Chat provider: claude or openai
CHAT_PROVIDER=claude

# Optional: specific chat model
# CHAT_MODEL=claude-sonnet-4-20250514

# Optional: Ollama host for local embeddings
# OLLAMA_HOST=http://localhost:11434

# ===== Tigris S3 Storage (Optional) =====
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_ENDPOINT_URL_S3=https://fly.storage.tigris.dev
# AWS_REGION=auto
# BUCKET_NAME=
